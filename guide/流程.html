<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Git使用的简单流程 | Git Notes</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/git-notes/favicon.png">
    <meta name="description" content="Git学习笔记">
    <link rel="preload" href="/git-notes/assets/css/0.styles.0d07d4e1.css" as="style"><link rel="preload" href="/git-notes/assets/js/app.a493aebd.js" as="script"><link rel="preload" href="/git-notes/assets/js/2.4b8c9288.js" as="script"><link rel="preload" href="/git-notes/assets/js/14.cd4b935e.js" as="script"><link rel="prefetch" href="/git-notes/assets/js/10.f6b793aa.js"><link rel="prefetch" href="/git-notes/assets/js/11.487b9e06.js"><link rel="prefetch" href="/git-notes/assets/js/12.54e16e89.js"><link rel="prefetch" href="/git-notes/assets/js/13.c2e01531.js"><link rel="prefetch" href="/git-notes/assets/js/15.b8ea3a9a.js"><link rel="prefetch" href="/git-notes/assets/js/16.b158c7ab.js"><link rel="prefetch" href="/git-notes/assets/js/3.b39f9a6f.js"><link rel="prefetch" href="/git-notes/assets/js/4.9634edd0.js"><link rel="prefetch" href="/git-notes/assets/js/5.c3c669bc.js"><link rel="prefetch" href="/git-notes/assets/js/6.99c7540f.js"><link rel="prefetch" href="/git-notes/assets/js/7.caef7d0d.js"><link rel="prefetch" href="/git-notes/assets/js/8.756f13ce.js"><link rel="prefetch" href="/git-notes/assets/js/9.931f4eae.js">
    <link rel="stylesheet" href="/git-notes/assets/css/0.styles.0d07d4e1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/git-notes/" class="home-link router-link-active"><img src="/git-notes/favicon.png" alt="Git Notes" class="logo"> <span class="site-name can-hide">Git Notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/git-notes/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/git-notes/guide/" class="nav-link router-link-active">
  入门
</a></div><div class="nav-item"><a href="https://github.com/ShoorDay/git-notes" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/git-notes/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/git-notes/guide/" class="nav-link router-link-active">
  入门
</a></div><div class="nav-item"><a href="https://github.com/ShoorDay/git-notes" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/git-notes/guide/" aria-current="page" class="sidebar-link">Git介绍</a></li><li><a href="/git-notes/guide/流程.html" class="active sidebar-link">Git使用的简单流程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/git-notes/guide/流程.html#配置user" class="sidebar-link">配置user</a></li><li class="sidebar-sub-header"><a href="/git-notes/guide/流程.html#初始化仓库" class="sidebar-link">初始化仓库</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/git-notes/guide/流程.html#初始化本地仓库" class="sidebar-link">初始化本地仓库</a></li><li class="sidebar-sub-header"><a href="/git-notes/guide/流程.html#关联远程仓库" class="sidebar-link">关联远程仓库</a></li></ul></li><li class="sidebar-sub-header"><a href="/git-notes/guide/流程.html#帮助信息" class="sidebar-link">帮助信息</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/git-notes/guide/流程.html#git-help" class="sidebar-link">git help</a></li><li class="sidebar-sub-header"><a href="/git-notes/guide/流程.html#git-status" class="sidebar-link">git status</a></li><li class="sidebar-sub-header"><a href="/git-notes/guide/流程.html#git-log" class="sidebar-link">git log</a></li><li class="sidebar-sub-header"><a href="/git-notes/guide/流程.html#git-reflog" class="sidebar-link">git reflog</a></li></ul></li><li class="sidebar-sub-header"><a href="/git-notes/guide/流程.html#添加追踪文件" class="sidebar-link">添加追踪文件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/git-notes/guide/流程.html#提交" class="sidebar-link">提交</a></li><li class="sidebar-sub-header"><a href="/git-notes/guide/流程.html#gitignore" class="sidebar-link">.gitignore</a></li><li class="sidebar-sub-header"><a href="/git-notes/guide/流程.html#git-push" class="sidebar-link">git push</a></li></ul></li><li class="sidebar-sub-header"><a href="/git-notes/guide/流程.html#分支" class="sidebar-link">分支</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/git-notes/guide/流程.html#新建分支" class="sidebar-link">新建分支</a></li><li class="sidebar-sub-header"><a href="/git-notes/guide/流程.html#查看分支" class="sidebar-link">查看分支</a></li><li class="sidebar-sub-header"><a href="/git-notes/guide/流程.html#删除分支" class="sidebar-link">删除分支</a></li></ul></li><li class="sidebar-sub-header"><a href="/git-notes/guide/流程.html#撤销修改" class="sidebar-link">撤销修改</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/git-notes/guide/流程.html#撤销工作区的修改。" class="sidebar-link">撤销工作区的修改。</a></li><li class="sidebar-sub-header"><a href="/git-notes/guide/流程.html#撤销暂存区的修改" class="sidebar-link">撤销暂存区的修改</a></li><li class="sidebar-sub-header"><a href="/git-notes/guide/流程.html#撤销仓库的修改（提交）" class="sidebar-link">撤销仓库的修改（提交）</a></li><li class="sidebar-sub-header"><a href="/git-notes/guide/流程.html#隐藏工作区的修改" class="sidebar-link">隐藏工作区的修改</a></li></ul></li><li class="sidebar-sub-header"><a href="/git-notes/guide/流程.html#合并分支" class="sidebar-link">合并分支</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/git-notes/guide/流程.html#git-merge" class="sidebar-link">git merge</a></li><li class="sidebar-sub-header"><a href="/git-notes/guide/流程.html#git-rebase" class="sidebar-link">git rebase</a></li><li class="sidebar-sub-header"><a href="/git-notes/guide/流程.html#git-pull" class="sidebar-link">git pull</a></li><li class="sidebar-sub-header"><a href="/git-notes/guide/流程.html#git-diff" class="sidebar-link">git diff</a></li></ul></li><li class="sidebar-sub-header"><a href="/git-notes/guide/流程.html#标签" class="sidebar-link">标签</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/git-notes/guide/流程.html#删除标签" class="sidebar-link">删除标签</a></li></ul></li></ul></li><li><a href="/git-notes/guide/配置.html" class="sidebar-link">配置</a></li><li><a href="/git-notes/guide/仓库.html" class="sidebar-link">仓库</a></li><li><a href="/git-notes/guide/远程.html" class="sidebar-link">远程仓库</a></li><li><a href="/git-notes/guide/分支.html" class="sidebar-link">分支操作</a></li><li><a href="/git-notes/guide/合并.html" class="sidebar-link">合并</a></li><li><a href="/git-notes/guide/标签.html" class="sidebar-link">标签管理</a></li><li><a href="/git-notes/guide/日志.html" class="sidebar-link">Log</a></li><li><a href="/git-notes/guide/分支策略.html" class="sidebar-link">分支策略</a></li><li><a href="/git-notes/guide/参考.html" class="sidebar-link">参考资料</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="git使用的简单流程"><a href="#git使用的简单流程" class="header-anchor">#</a> Git使用的简单流程</h1> <p>一个简单的Git版本管理的使用流程。</p> <h2 id="配置user"><a href="#配置user" class="header-anchor">#</a> 配置user</h2> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> config --global user.name yourname
<span class="token function">git</span> config --global user.email example@gmail.com
</code></pre></div><h2 id="初始化仓库"><a href="#初始化仓库" class="header-anchor">#</a> 初始化仓库</h2> <h3 id="初始化本地仓库"><a href="#初始化本地仓库" class="header-anchor">#</a> 初始化本地仓库</h3> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token builtin class-name">cd</span> demo
<span class="token function">git</span> init
</code></pre></div><h3 id="关联远程仓库"><a href="#关联远程仓库" class="header-anchor">#</a> 关联远程仓库</h3> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> remote <span class="token function">add</span> origin https://github.com/ShoorDay/git-notes.git
</code></pre></div><p><strong>远程仓库信息</strong></p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> remote    <span class="token comment"># 远程仓库信息</span>
<span class="token function">git</span> remote -v <span class="token comment"># 详细信息</span>
</code></pre></div><h2 id="帮助信息"><a href="#帮助信息" class="header-anchor">#</a> 帮助信息</h2> <p>Git十分友好，提供了很多操作提示和帮助信息。</p> <h3 id="git-help"><a href="#git-help" class="header-anchor">#</a> git help</h3> <p>查看帮助</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> <span class="token builtin class-name">help</span> <span class="token builtin class-name">help</span> <span class="token comment"># 查看help命令的帮助</span>
</code></pre></div><h3 id="git-status"><a href="#git-status" class="header-anchor">#</a> git status</h3> <p><code>git status</code>用来查看<code>working tree</code>的信息，十分丰富，例如：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> status
On branch dev
Changes to be committed:
  <span class="token punctuation">(</span>use <span class="token string">&quot;git restore --staged &lt;file&gt;...&quot;</span> to unstage<span class="token punctuation">)</span>
        modified:   docs/guide/配置.md

Changes not staged <span class="token keyword">for</span> commit:
  <span class="token punctuation">(</span>use <span class="token string">&quot;git add &lt;file&gt;...&quot;</span> to update what will be committed<span class="token punctuation">)</span>
  <span class="token punctuation">(</span>use <span class="token string">&quot;git restore &lt;file&gt;...&quot;</span> to discard changes <span class="token keyword">in</span> working directory<span class="token punctuation">)</span>
        modified:   docs/.vuepress/config.js
        modified:   docs/guide/分支.md
        modified:   docs/guide/参考.md
</code></pre></div><h3 id="git-log"><a href="#git-log" class="header-anchor">#</a> git log</h3> <p><code>git log</code>用来查看历史提交日志（从当前HEAD始，由近及远）</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> log
commit 35143104d8800e2be8a136ed4cc253013f13f1f2 <span class="token punctuation">(</span>HEAD -<span class="token operator">&gt;</span> dev, origin/master, master<span class="token punctuation">)</span>
Author: shoor <span class="token operator">&lt;</span>shoorday@gmail.com<span class="token operator">&gt;</span>
Date:   Fri Jun <span class="token number">19</span> <span class="token number">16</span>:21:33 <span class="token number">2020</span> +0800

    first commit
    
<span class="token function">git</span> log --pretty<span class="token operator">=</span>oneline <span class="token comment"># 精简信息</span>
<span class="token function">git</span> log --graph          <span class="token comment"># 分支合并图</span>
<span class="token function">git</span> log --abbrev-commit  <span class="token comment"># 缩写Hash</span>
<span class="token comment"># 当然是一起用了</span>
<span class="token function">git</span> log --graph --pretty<span class="token operator">=</span>oneline --abbrev-commit 
</code></pre></div><h3 id="git-reflog"><a href="#git-reflog" class="header-anchor">#</a> git reflog</h3> <p><code>git reflog</code>用于查看“未来”的提交日志，在回退到之前的提交，又忘了“未来的”的Hash值时，<code>git reflog</code>十分有用。</p> <h2 id="添加追踪文件"><a href="#添加追踪文件" class="header-anchor">#</a> 添加追踪文件</h2> <p><code>git add</code>添加追踪文件/添加修改到暂存区</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;# git-notes&quot;</span> <span class="token operator">&gt;</span> README.md

<span class="token function">git</span> <span class="token function">add</span> README.md
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">git add的便捷操作</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> <span class="token function">add</span> -A   <span class="token comment"># 暂存所有的文件</span>
<span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>    <span class="token comment"># 暂存新增加的和修改的文件（不含删除的）</span>
<span class="token function">git</span> <span class="token function">add</span> -u   <span class="token comment"># 暂存修改和删除的文件（不含新增的）</span>
<span class="token function">git</span> <span class="token function">add</span> *.py <span class="token comment"># 暂存所有后缀为py的文件，其他命令类似的选项也支持这种操作</span>
</code></pre></div></div> <h3 id="提交"><a href="#提交" class="header-anchor">#</a> 提交</h3> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> commit -m <span class="token string">&quot;first commit&quot;</span>
</code></pre></div><h3 id="gitignore"><a href="#gitignore" class="header-anchor">#</a> .gitignore</h3> <p><code>.gitignore</code>文件用于忽略一些文件，使其不被<code>Git</code>追踪。使用<a href="http://www.ruanyifeng.com/blog/2018/09/bash-wildcards.html" target="_blank" rel="noopener noreferrer">glob语法<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;node_modules/&quot;</span> <span class="token operator">&gt;</span> .gitignore
</code></pre></div><p>即可忽略忽略<code>node_modules</code>目录下的文件。</p> <h3 id="git-push"><a href="#git-push" class="header-anchor">#</a> git push</h3> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> push -u origin master
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">-u参数</p> <p>将本地的master分支推送到origin主机，同时指定origin为默认主机，以后在master分支可以不写任何参数，直接push。</p></div> <h2 id="分支"><a href="#分支" class="header-anchor">#</a> 分支</h2> <h3 id="新建分支"><a href="#新建分支" class="header-anchor">#</a> 新建分支</h3> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 新建dev分支</span>
<span class="token function">git</span> branch dev
<span class="token comment"># 切换到dev分支</span>
<span class="token function">git</span> checkout dev
</code></pre></div><p>下面的写法效果一样，更方便</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> checkout -b dev
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">git switch</p> <p>Git新版本2.23中有新命令<code>switch</code>和<code>restore</code>，用以替代现在的<code>checkout</code></p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> switch dev    <span class="token comment"># 等价于 git checkout dev</span>
<span class="token function">git</span> switch -c dev <span class="token comment"># 等价于 git checkout -b dev</span>
</code></pre></div></div> <h3 id="查看分支"><a href="#查看分支" class="header-anchor">#</a> 查看分支</h3> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> branch      <span class="token comment"># 列出本地当前所有分支</span>
<span class="token function">git</span> branch -r   <span class="token comment"># 列出远程分支</span>
<span class="token function">git</span> branch -a   <span class="token comment"># 列出当前所有分支</span>
</code></pre></div><h3 id="删除分支"><a href="#删除分支" class="header-anchor">#</a> 删除分支</h3> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> branch -d dev
</code></pre></div><h2 id="撤销修改"><a href="#撤销修改" class="header-anchor">#</a> 撤销修改</h2> <h3 id="撤销工作区的修改。"><a href="#撤销工作区的修改。" class="header-anchor">#</a> 撤销工作区的修改。</h3> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 查看工作目录状态</span>
<span class="token function">git</span> status

<span class="token comment"># 撤销工作区的修改（discard changes）</span>
<span class="token function">git</span> checkout -- README.md
</code></pre></div><h3 id="撤销暂存区的修改"><a href="#撤销暂存区的修改" class="header-anchor">#</a> 撤销暂存区的修改</h3> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 查看工作目录状态</span>
<span class="token function">git</span> status

<span class="token comment"># 撤销暂存区的修改（unstage）</span>
<span class="token function">git</span> reset HEAD README.md
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">git restore</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> restore --staged README.md <span class="token comment"># 等价于 git reset HEAD README.md</span>
</code></pre></div></div> <h3 id="撤销仓库的修改（提交）"><a href="#撤销仓库的修改（提交）" class="header-anchor">#</a> 撤销仓库的修改（提交）</h3> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> reset --soft HEAD~ <span class="token comment"># 撤销上次提交</span>
<span class="token comment"># --soft选项使得撤销commit并恢复到提交前的状态</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">其他&lt;mode&gt;</p> <ul><li><p>无选项</p></li> <li><p>撤销commit，保留了commit，仅仅是移动HEAD指针.</p></li> <li><p><code>--hard</code></p> <p>撤销commit，恢复到上次提交（指定<code>commit</code>，<code>HEAD^</code>即上次）的状态。</p></li> <li><p><code>--mixed</code></p> <p>撤销commit，暂存区撤销，其他恢复到提交前的状态。</p></li></ul></div> <div class="custom-block tip"><p class="custom-block-title">指定&lt;commit&gt;</p> <p>更应该是<strong>版本回退</strong>，而不仅仅是撤销上次的提交，可以看到<code>&lt;commit&gt;</code>选项，可以指定任意的commit。</p></div> <h3 id="隐藏工作区的修改"><a href="#隐藏工作区的修改" class="header-anchor">#</a> 隐藏工作区的修改</h3> <p><code>git stash</code>隐藏工作区的修改，需要的时候再拿出来。这个十分有用，对于新手来说可能最常见的就是不小心在<code>master</code>工作了。</p> <p><strong>一系列的stash类似栈</strong></p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> stash       <span class="token comment"># 隐藏工作区的修改</span>
<span class="token comment"># git stash save 与git stash，但有更多的选项</span>
<span class="token function">git</span> stash save “stash message”.
<span class="token function">git</span> stash save -u

<span class="token function">git</span> stash pop   <span class="token comment"># pop上次的stash，类似栈的操作（pop，删除那次的stash）</span>
<span class="token function">git</span> stash apply <span class="token comment"># 类试pop，但保留stash</span>
<span class="token function">git</span> stash list  <span class="token comment"># 列出所有stash</span>
<span class="token function">git</span> stash show  <span class="token comment"># 上次stash的信息</span>
<span class="token function">git</span> stash <span class="token function">clear</span> <span class="token comment"># 删除所有stash</span>
<span class="token function">git</span> stash drop  <span class="token comment"># 删除上次的stash</span>

<span class="token comment"># 创建一个新分支，并pop一个stash</span>
<span class="token function">git</span> stash branch <span class="token operator">&lt;</span>branchname<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>stash<span class="token operator">&gt;</span><span class="token punctuation">]</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">指定stash</p> <p>可以指定pop、apply、drop、show等命令的stash（<code>[&lt;stash&gt;]</code>），使用<code>git stash pop stash@{n}</code>这样的语法（<code>stash@{n}</code>可由<code>git stash list</code>获得。</p></div> <h2 id="合并分支"><a href="#合并分支" class="header-anchor">#</a> 合并分支</h2> <h3 id="git-merge"><a href="#git-merge" class="header-anchor">#</a> git merge</h3> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># on branch master</span>
<span class="token function">git</span> merge dev <span class="token comment"># 合并dev分支到当前分支</span>
</code></pre></div><h3 id="git-rebase"><a href="#git-rebase" class="header-anchor">#</a> git rebase</h3> <p>变基操作，形成直线提交记录（丢失了一些）。</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># on branch master</span>
<span class="token function">git</span> rebase dev <span class="token comment"># 移动master指针到dev</span>
</code></pre></div><h3 id="git-pull"><a href="#git-pull" class="header-anchor">#</a> git pull</h3> <p><strong>拉取</strong>远程主机的最新内容并<strong>合并</strong>，即相当于<code>git fetch</code>＋<code>git merge</code>。</p> <h3 id="git-diff"><a href="#git-diff" class="header-anchor">#</a> git diff</h3> <p>合并有需要冲突手动解决，<code>git diff</code>能展示差异</p> <ul><li><p>工作目录 vs Git仓库</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> <span class="token function">diff</span> <span class="token operator">&lt;</span>commit<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>filename<span class="token operator">&gt;</span>
</code></pre></div></li> <li><p>工作目录 vs 暂存区</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> <span class="token function">diff</span> <span class="token operator">&lt;</span>filename<span class="token operator">&gt;</span>
<span class="token function">git</span> <span class="token function">diff</span> <span class="token operator">&lt;</span>branch<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>filename<span class="token operator">&gt;</span>    <span class="token comment"># 与指定分支的比较</span>
</code></pre></div></li> <li><p>暂存区 vs Git仓库</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> <span class="token function">diff</span> --cached <span class="token operator">&lt;</span>filename<span class="token operator">&gt;</span>
<span class="token function">git</span> <span class="token function">diff</span> --cached <span class="token operator">&lt;</span>commit<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>filename<span class="token operator">&gt;</span>  <span class="token comment"># 与指定commit比较</span>
</code></pre></div></li> <li><p>Git仓库 vs Git仓库</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> <span class="token function">diff</span> <span class="token operator">&lt;</span>commit<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>commit<span class="token operator">&gt;</span>
</code></pre></div></li></ul> <p>差异比较大的话，还是GUI工具更方便。</p> <h2 id="标签"><a href="#标签" class="header-anchor">#</a> 标签</h2> <p>有些commit我们需要特别记录，比如发布的版本，这时可以打个标签。</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> tag v1.0                     <span class="token comment"># 在最新提交上创建标签</span>
<span class="token function">git</span> tag v2.0-beta1 <span class="token operator">&lt;</span>commit<span class="token operator">&gt;</span>      <span class="token comment"># 指定commit</span>
<span class="token function">git</span> tag -a v2.0 -m <span class="token string">&quot;2.0正式版本&quot;</span>  <span class="token comment"># 说明信息</span>

<span class="token function">git</span> tag          <span class="token comment"># 列出所有标签</span>
<span class="token function">git</span> show v1.0    <span class="token comment"># 查看标签信息</span>
</code></pre></div><h3 id="删除标签"><a href="#删除标签" class="header-anchor">#</a> 删除标签</h3> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> tag -d v1.0  <span class="token comment"># 删除标签</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">远程标签</p> <p>创建的标签都只存储在本地。</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> push origin v1.0    <span class="token comment"># 推送标签到远程</span>
<span class="token function">git</span> push origin --tags  <span class="token comment"># 推送全部标签</span>
</code></pre></div><p>删除远程标签也比较麻烦</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 先在本地删除</span>
<span class="token function">git</span> tag -d v1.0
<span class="token comment"># 然后推送到远程</span>
<span class="token function">git</span> push origin :refs/tags/v1.0
</code></pre></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/git-notes/guide/" class="prev router-link-active">
        Git介绍
      </a></span> <span class="next"><a href="/git-notes/guide/配置.html">
        配置
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/git-notes/assets/js/app.a493aebd.js" defer></script><script src="/git-notes/assets/js/2.4b8c9288.js" defer></script><script src="/git-notes/assets/js/14.cd4b935e.js" defer></script>
  </body>
</html>
